<!DOCTYPE html>
<meta charset="utf-8" /> 
<title>CT-PPS Run control</title>

<link rel="stylesheet" type="text/css" href="style.css"/>
<script language="javascript" src="socket.js"></script>
<script language="javascript" type="text/javascript">
  
  window.addEventListener("load", socket_init, false);
  window.addEventListener("beforeunload", socket_close, false);
  window.setInterval(socket_refresh, 50);

</script>

<h1>CT-PPS Test beam run control</h1>
<p id="time_field"></p>

<div id="upper_fields">
  <div style="display:inline-block;vertical-align:top;">
    <button onClick="bind_socket()" id="bind_button">Bind</button>
    <button onClick="unbind_socket()" id="unbind_button">Unbind</button>
    <input type="text" id="socket_id" size=2 disabled />
    <button onClick="socket_refresh()" id="refresh_button">Refresh</button><br />
    <button onClick="start_acquisition()" id="acquisition_button">Launch acquisition</button>
  </div>
  <textarea id="console_log" cols=40 rows=4 disabled></textarea>
  <div id="output"></div>
</div>
<div id="exception_block"></div>
<div id="dqm_block"></div>

<br />
Legend:
<div class="legend block_master"></div> = Master
<div class="legend block_websocket"></div> = Web connexion
<div class="legend block_regularsocket"></div> = Terminal
<div class="legend block_detsocket"></div> = Detector
<div class="legend block_dqmsocket"></div> = DQM
<div class="legend block_othersocket"></div> = Other

